angular.module("app.service",[]),angular.module("app.controller",[]),angular.module("app.directive",[]),angular.module("app.filter",[]),angular.module("app.view",[]),angular.module("app",["app.service","app.controller","app.directive","app.filter","app.view","ionic"]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(a,b){return new router.Setting(a,b)}]),angular.module("app").config(["$httpProvider",function(a){a.defaults.withCredentials=app.datas.app.provider.http.withCredentials}]),angular.module("app").config(["$ionicConfigProvider",function(a){var b=app.datas.app.provider.ionic;a.views.transition(b.views.transition),a.views.maxCache(b.views.maxCache),a.views.forwardCache(b.views.forwardCache),a.backButton.icon(b.backButton.icon),a.backButton.text(b.backButton.text),a.backButton.previousTitleText(b.backButton.previousTitleText),a.tabs.style(b.tabs.style),a.tabs.position(b.tabs.position),a.templates.maxPrefetch(b.templates.maxPrefetch),a.navBar.alignTitle(b.navBar.alignTitle),a.navBar.positionPrimaryButtons(b.navBar.positionPrimaryButtons),a.navBar.positionSecondaryButtons(b.navBar.positionSecondaryButtons)}]);var router;!function(a){var b;!function(a){a[a["abstract"]=0]="abstract",a[a.virtual=1]="virtual",a[a.view=2]="view",a[a.modal=3]="modal",a[a.tab=4]="tab"}(b||(b={}));var c=function(){function a(a,b){this.$stateProvider=a,this.$urlRouterProvider=b,this.data=app.datas.app.global,this.mainContainer=this.data.pages.menu,this.init()}return a.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},a.prototype.addState=function(b,c,d,e){if(0===b)this.$stateProvider.state(d,{url:"/"+d,"abstract":!0,templateUrl:d+".html",controller:"controller"+a.capitalize(d)});else if(c){var f={};Object.defineProperty(f,"content"+a.capitalize(c),{value:{templateUrl:d+".html",controller:"controller"+a.capitalize(d)},writable:!0,enumerable:!0,configurable:!0}),this.$stateProvider.state(c+"."+d,{url:"/"+d,authenticate:e||0,views:f})}else switch(b){case 1:this.$stateProvider.state(d,{url:"/"+d,authenticate:e||0});break;case 2:this.$stateProvider.state(d,{url:"/"+d,authenticate:e||0,templateUrl:d+".html",controller:"controller"+a.capitalize(d)});break;case 3:this.$stateProvider.state(d,{url:"/"+d,authenticate:e||0,isModal:!0})}},a.prototype.init=function(){var a=this;Object.getOwnPropertyNames(this.data.views).forEach(function(b){var c=a.data.views[b];switch(c.type.toLowerCase()){case"menu":a.mainContainer||(a.mainContainer=b),a.addState(0,"",b,0);break;case"view":c.container.forEach(function(d){d?a.addState(2,a.mainContainer?a.mainContainer+"."+d:d,b,c.authenticate):a.addState(2,a.mainContainer,b,c.authenticate)});break;case"modal":a.addState(3,"",b,c.authenticate);break;case"tab":break;case"virtual":a.addState(1,"",b,c.authenticate)}}),this.$urlRouterProvider.otherwise("/"+(this.data.pages.menu?this.data.pages.menu+"."+this.data.pages.home:this.data.pages.home).replace(/\./g,"/"))},a}();a.Setting=c}(router||(router={})),angular.module("app").run(["$timeout","$ionicPlatform","$rootScope","$state","$window","serviceIonicWrapper","serviceData","serviceAppInit",function(a,b,c,d,e,f,g){b.ready(function(){console.log(ionic.Platform),console.log(ionic.Platform.device()),ionic.Platform.isWebView()||ionic.Platform.isIOS()&&ionic.keyboard.disable(),b.isFullScreen=!0,e.cordova&&e.cordova.plugins.Keyboard&&(b.registerBackButtonAction(function(a){return a.preventDefault(),!1},101),cordova.plugins.Keyboard.disableScroll(!0),cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0)),e.StatusBar,e.cordova&&e.AndroidFullScreen}),e.addEventListener("pageshow",function(){g.hasInit&&c.$emit("$rootScope.mobcEvent",{sender:"app-state",name:"doLoginSilent"})},!1),e.addEventListener("resize",function(a){c.$broadcast("$rootScope.resize",a)},!1),e.addEventListener("orientationchange",function(a){c.$broadcast("$rootScope.orientationChange",a)},!1),c.$on("$stateChangeStart",function(b,d){return g.hasInit?d.name===g.app.global.pages.logout?(c.$emit("$rootScope.mobcEvent",{sender:"app-state",name:"doLogout"}),void b.preventDefault()):d.authenticate&&!g.isLogin&&g.app.global.pages.login?(f.modal.create(g.app.global.pages.login+"_modal"),a(function(){c.$emit("$rootScope.mobcEvent",{sender:"app-state",name:"loginRedirect",data:{redirect:d.url&&g.app.global.pages.login!==d.name?d.name:null}})},250,!0),void b.preventDefault()):d.isModal?(f.modal.create(d.name+"_modal"),void b.preventDefault()):void 0:void 0})}]);var app;!function(a){function b(a,b){angular.module("app.controller").controller(a,b)}function c(a,b){angular.module("app.directive").directive(a,b)}function d(a,b){void 0===b&&(b=[])}function e(a,b){angular.module("app.service").value(a,b)}function f(a,b){angular.module("app.service").constant(a,b)}function g(){}function h(a,b){angular.module("app.service").service(a,b)}a.registerController=b,a.registerDirective=c,a.registerFilter=d,a.registerValue=e,a.registerConstant=f,a.registerFactory=g,a.registerService=h}(app||(app={}));