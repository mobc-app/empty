!function(){function a(a,b){function c(){f.forEach(function(b){b&&("/"===b[0]&&(b=b.substr(1)),b=a.localroot?a.localroot+b:a.root+b,".js"===b.substr(-3)?(d=document.createElement("script"),d.type="text/javascript",d.src=b+"?"+g,d.async=!1):(d=document.createElement("link"),d.rel="stylesheet",d.href=b,d.type="text/css"),e.appendChild(d))})}if(!a.load)return void console.error("Manifest has nothing to load (manifest.load is empty).",a);var d,e=document.getElementsByTagName("head")[0],f=a.load.concat(),g=Date.now();a.root=a.root||"./",a.root.length>0&&"/"!==a.root[a.root.length-1]&&(a.root+="/"),b||localStorage.setItem("manifest",JSON.stringify(a)),"undefined"!=typeof window.cordova?document.addEventListener("deviceready",c,!1):c(),window.Manifest=a}window.pegasus=function(a,b){return b=new XMLHttpRequest,b.open("GET",a),a=[],b.onreadystatechange=b.then=function(c,d,e){c.call&&(a=[c,d]),4==b.readyState&&(e=a[0|b.status/400],e&&e(200===b.status||0===b.status?JSON.parse(b.responseText):b))},b.send(),b},window.Manifest={};var b=JSON.parse(localStorage.getItem("manifest"));if(b)a(b,!0,1e4);else{var c="manifest.json";pegasus(c).then(a,function(a){console.error("Could not download "+c+": "+a.status)})}}();